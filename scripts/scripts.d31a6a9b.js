"use strict";function CSVToArray(a,b){b=b||",";for(var c=new RegExp("(\\"+b+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+b+"\\r\\n]*))","gi"),d=[[]],e=null;e=c.exec(a);){var f=e[1];if(f.length&&f!=b&&d.push([]),e[2])var g=e[2].replace(new RegExp('""',"g"),'"');else var g=e[3];d[d.length-1].push(g)}return d}function CSV2JSON(a){for(var b=CSVToArray(a),c=[],d=1;d<b.length;d++){c[d-1]={};for(var e=0;e<b[0].length&&e<b[d].length;e++){var f=b[0][e];c[d-1][f]=b[d][e]}}var g=JSON.stringify(c),h=g.replace(/},/g,"},\r\n");return h}angular.module("csvconverterApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),$("#convert").click(function(){var a=$("#csv").val(),b=CSV2JSON(a);$("#json").val(b)}),$("#download").click(function(){var a=$("#csv").val(),b=CSV2JSON(a);window.open("data:text/json;charset=utf-8,"+escape(b))});